(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"5p4Y":function(e,t,a){"use strict";var n=a("FfR7"),l=a("Dthn");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("UnaP");var r=n(a("I1ba"));a("9CET");var i=n(a("dcBt"));a("nLo3");var d=n(a("HJwI"));a("szny");var u=n(a("2tKr"));a("Yfv2");var s=n(a("PQzY"));a("t8Za");var c=n(a("qevM"));a("RGWf");var o=n(a("AjQT"));a("lFC8");var f=n(a("d9qa"));a("hkEy");var m=n(a("gVls")),p=n(a("gx1s"));a("X9Pg");var h=n(a("d2as")),g=n(a("b4l6")),y=n(a("0wiU")),v=n(a("SnMR")),E=n(a("GZrC")),M=n(a("nH91"));a("9vX3");var C=n(a("eVTp"));a("Qg1i");var D=n(a("+45M"));a("Jd81");var N=n(a("V//X"));a("Qcpt");var x,T,I,b=n(a("5VJy")),_=l(a("rdAL")),S=a("LneV"),k=n(a("wip7")),z=n(a("GicG")),A=n(a("hHl9")),j=(a("xNuS"),b.default.Content),L=b.default.Sider,w=N.default.TreeNode,P=D.default.Option,O=C.default.Group,R=C.default.TextArea,q=(x=(0,S.connect)(function(e){var t=e.system,a=e.interfaceCase,n=e.loading;return{system:t,interfaceCase:a,loading:n.effects["interfaceCase/queryTreeInfo"],debugLoading:n.effects["interfaceCase/queryDebugSample"]}}),x((I=function(e){function t(e){var a;return(0,g.default)(this,t),a=(0,v.default)(this,(0,E.default)(t).call(this,e)),a.handleRightMenuClick=function(e){var t=e.key;switch(t){case"1":a.handleAddCase();break;case"2":a.handleAddSubFolder();break;case"4":a.handleDeleteSubFolder();break;case"5":a.handleCopyCase();break;case"6":a.hanldeDeleteCase();break;default:h.default.warning("\u51fa\u73b0\u4e86\u4ec0\u4e48\u9b3c")}},a.treeToList=function(e){var t=[{id:e[0].id,name:e[0].name,noteType:e[0].noteType,index_id:e[0].index_id,pid:0}],a=function e(a,n){return a.children.forEach(function(a){t.push({id:a.id,name:a.name,noteType:a.noteType,index_id:a.index_id,pid:n}),a.children&&a.children.length>0&&e(a,a.id)})};return a(e[0],e[0].id),t},a.handleAddCase=function(){var e=a.state.rightClickItem.dataRef.id,t=a.state.treeList,n=a.treeToList(t);n.push({id:null,name:"",type:"case",noteType:0,index_id:99,pid:e});var l=function e(t){var a=[];return n.forEach(function(n){null!==t&&n.pid===t&&a.push({id:n.id,name:n.name,index_id:n.index_id,type:n.type,noteType:n.noteType,children:e(n.id)})}),a},r=l(0);a.setState({treeList:r,expandedKeys:[e.toString()],clickId:e,autoExpandParent:!0},function(){return a.clearMenu()})},a.handleAddSubFolder=function(){var e=a.state.rightClickItem.dataRef.id,t=a.state.treeList,n=a.treeToList(t);n.push({id:null,name:"",type:"folder",noteType:0,index_id:99,pid:e});var l=function e(t){var a=[];return n.forEach(function(n){null!==t&&n.pid===t&&a.push({id:n.id,name:n.name,index_id:n.index_id,type:n.type,noteType:n.noteType,children:e(n.id)})}),a},r=l(0);a.setState({treeList:r,expandedKeys:[e.toString()],clickId:e,autoExpandParent:!0},function(){return a.clearMenu()})},a.handleDeleteSubFolder=function(){var e=a.state.rightClickItem.dataRef.id,t=a.props.dispatch;t({type:"interfaceCase/queryDeleteFolder",payload:{id:a.state.rightClickItem.dataRef.id}}).then(function(){a.queryTreeList(a.state.project),a.clearMenu(),a.clearSelect(e)})},a.hanldeDeleteCase=function(){var e=a.state.rightClickItem.dataRef.id,t=a.props.dispatch;t({type:"interfaceCase/queryDeleteCase",payload:{id:e}}).then(function(){a.queryTreeList(a.state.project),a.clearMenu(),a.clearSelect(e)})},a.handleCopyCase=function(){var e=a.props.dispatch;e({type:"interfaceCase/queryCopyCase",payload:{id:a.state.rightClickItem.dataRef.id}}).then(function(){a.queryTreeList(a.state.project),a.clearMenu()})},a.queryProjectList=function(){var e=a.props.dispatch;e({type:"system/queryProjectList",payload:{status:"1"}}).then(function(){var e=a.props.system;a.setState({projectList:e.projectList})})},a.queryExtractList=function(e){var t=a.props.dispatch;t({type:"interfaceCase/queryExtractList",payload:{id:e}}).then(function(){var e=a.props.interfaceCase;a.setState({extractList:e.extractList},function(){console.log(a.state.extractList)})})},a.queryTreeList=function(e){var t=a.props.dispatch;t({type:"interfaceCase/queryTreeList",payload:{id:e}}).then(function(){var e=a.props.interfaceCase;a.setState({treeList:e.treeList})})},a.querySampleInfo=function(e){var t=a.props.dispatch;t({type:"interfaceCase/querySampleInfo",payload:{id:e}}).then(function(){var e=a.props.interfaceCase;e.sampleInfo?a.setState({info:e.sampleInfo,infoPath:e.sampleInfo.path,infoMethod:e.sampleInfo.method,infoParams:e.sampleInfo.params,infoAssertType:e.sampleInfo.asserts.assertsType,infoExtractType:e.sampleInfo.extract.extractType,infoAssertData:e.sampleInfo.asserts.assertData,infoExtractData:e.sampleInfo.extract.extractData}):a.setState({info:{name:"",path:"",method:"GET",params:[],asserts:{assertsType:1,assertData:[]},extract:{extractType:0,extractData:[]}}})})},a.queryTreeInfo=function(e){var t=a.props.dispatch;t({type:"interfaceCase/queryTreeInfo",payload:{id:e}}).then(function(){var e=a.props.interfaceCase,t=a.state.info;t.name=e.infoData.name,a.setState({info:t,infoName:e.infoData.name})})},a.handleProjectChange=function(e){a.setState({project:e},function(){a.queryTreeList(e),a.queryExtractList(e)})},a.onDrop=function(e){var t=e.node.props.eventKey,n=e.dragNode.props.eventKey,l=a.props.dispatch;l({type:"interfaceCase/queryUpdateTreeIndex",payload:{dropKey:t,dragKey:n}}).then(function(){a.queryTreeList(a.state.project)})},a.onSelect=function(e,t){e.length>0&&a.setState({selectedKeys:e,selectNoteType:t.node.props.dataRef.noteType,infoName:"",infoPath:"",infoMethod:"GET",infoParams:null,infoAssertType:1,infoExtractType:0,infoAssertData:null,infoExtractData:null},function(){a.queryTreeInfo(a.state.selectedKeys[0]),2===a.state.selectNoteType&&(a.querySampleInfo(a.state.selectedKeys[0]),a.queryExtractList(a.state.project))})},a.onCheck=function(e,t){console.log("onCheck",e,t)},a.getXY=function(e){var t=a.treeBox.scrollTop,n=e.offsetTop-t,l=e.offsetLeft;while(e.offsetParent)e=e.offsetParent,window.navigator.userAgent.indexOf("MSTE 8")>-1?(n+=e.offsetTop,l+=e.offsetLeft):(n+=e.offsetTop+e.clientTop,l+=e.offsetLeft+e.clientLeft);return{x:l,y:n}},a.handleOnRightClick=function(e){var t=a.getXY(e.event.currentTarget),n=t.x,l=t.y;a.setState({rightClickItem:{pageX:n+e.event.currentTarget.clientWidth,pageY:l+2,id:e.node.props.eventKey,noteType:e.node.props.noteType,dataRef:e.node.props.dataRef}})},a.clearMenu=function(){a.setState({rightClickItem:null})},a.clearSelect=function(e){a.state.selectedKeys&&a.state.selectedKeys[0]===e.toString()&&a.setState({selectedKeys:null})},a.submitAddFolder=function(e){if(!e)return h.default.warning("\u540d\u79f0\u4e0d\u53ef\u4e3a\u7a7a"),void a.queryTreeList(a.state.project);var t=a.props.dispatch;t({type:"interfaceCase/queryAddSubFolder",payload:{id:a.state.clickId,name:e}}).then(function(){a.queryTreeList(a.state.project)})},a.submitAddCase=function(e){if(!e)return h.default.warning("\u540d\u79f0\u4e0d\u53ef\u4e3a\u7a7a"),void a.queryTreeList(a.state.project);var t=a.props.dispatch;t({type:"interfaceCase/queryAddCase",payload:{id:a.state.clickId,name:e}}).then(function(){a.queryTreeList(a.state.project)})},a.hanldeNameChange=function(e){a.setState({infoName:e.target.value},function(){var e=a.props.dispatch;e({type:"interfaceCase/queryUpdateFolderName",payload:{id:a.state.selectedKeys[0],name:a.state.infoName}}).then(function(){a.queryTreeList(a.state.project)})})},a.handleMethodChange=function(e){var t=a.state.info;t.method=e;var n=a.props.dispatch;n({type:"interfaceCase/queryUpdateSample",payload:{id:a.state.selectedKeys[0],info:t}}).then(function(){a.querySampleInfo(a.state.selectedKeys[0])})},a.handleAssertTypeChange=function(e){var t=a.state.info;t.asserts.assertsType=e.target.value,2===e.target.value&&(t.asserts.assertData=[{id:(new Date).getTime(),key:"",value:""}]);var n=a.props.dispatch;n({type:"interfaceCase/queryUpdateSample",payload:{id:a.state.selectedKeys[0],info:t}}).then(function(){a.querySampleInfo(a.state.selectedKeys[0])})},a.handleExtractTypeChange=function(e){var t=a.state.info;t.extract.extractType=e.target.value,1===e.target.value&&(t.extract.extractData=[{id:(new Date).getTime(),key:"",value:""}]);var n=a.props.dispatch;n({type:"interfaceCase/queryUpdateSample",payload:{id:a.state.selectedKeys[0],info:t}}).then(function(){a.querySampleInfo(a.state.selectedKeys[0])})},a.handleAssertDataChange=function(){var e=a.state.info;e.asserts.assertData=a.state.infoAssertData;var t=a.props.dispatch;t({type:"interfaceCase/queryUpdateSample",payload:{id:a.state.selectedKeys[0],info:e}}).then(function(){a.querySampleInfo(a.state.selectedKeys[0])})},a.handleExtractDataChange=function(){var e=a.state.info;e.extract.extractData=a.state.infoExtractData;var t=a.props.dispatch;t({type:"interfaceCase/queryUpdateSample",payload:{id:a.state.selectedKeys[0],info:e}}).then(function(){a.querySampleInfo(a.state.selectedKeys[0])})},a.queryUpdateSample=function(e,t){var n=a.state.info;n[e]=t;var l=a.props.dispatch;l({type:"interfaceCase/queryUpdateSample",payload:{id:a.state.selectedKeys[0],info:n}}).then(function(){a.querySampleInfo(a.state.selectedKeys[0])})},a.hanldePathChange=function(e){var t=a.state.info;t.path=e.target.value;var n=a.props.dispatch;n({type:"interfaceCase/queryUpdateSample",payload:{id:a.state.selectedKeys[0],info:t}}).then(function(){a.querySampleInfo(a.state.selectedKeys[0])})},a.handleAddParams=function(){var e={id:(new Date).getTime(),type:!1,key:"",value:""};if(a.state.infoParams){var t=a.state.infoParams.concat(e);a.setState({infoParams:t},function(){return a.queryUpdateSample("params",a.state.infoParams)})}else a.setState({infoParams:[e]},function(){return a.queryUpdateSample("params",a.state.infoParams)})},a.handleAddHeader=function(){var e={id:(new Date).getTime(),key:"",value:""};if(a.state.debugHeader){var t=a.state.debugHeader.concat(e);a.setState({debugHeader:t})}else a.setState({debugHeader:[e]})},a.handeAssertData=function(){var e={id:(new Date).getTime(),value:""};if(a.state.infoAssertData){var t=a.state.infoAssertData.concat(e);a.setState({infoAssertData:t},function(){return a.handleAssertDataChange()})}else a.setState({infoAssertData:[e]},function(){return a.handleAssertDataChange()})},a.handleParamsKeyChange=function(e,t){var n=a.state.infoParams;n[t].key=e.target.value,a.setState({infoParams:n})},a.handleAssertJsonKeyChange=function(e,t){var n=a.state.infoAssertData;n[t].key=e.target.value,a.setState({infoAssertData:n})},a.handleExtractJsonKeyChange=function(e,t){var n=a.state.infoExtractData;n[t].key=e.target.value,a.setState({infoExtractData:n})},a.handleHeaderKeyChange=function(e,t){var n=a.state.debugHeader;n[t].key=e.target.value,a.setState({debugHeader:n})},a.handleParamsValueChange=function(e,t){var n=a.state.infoParams;n[t].value=e.target.value,a.setState({infoParams:n})},a.handleParamsSelectValueChange=function(e,t){var n=a.state.infoParams;n[t].value=e,a.setState({infoParams:n},function(){return a.queryUpdateSample("params",a.state.infoParams)})},a.handleParamsTypeChange=function(e,t){var n=a.state.infoParams;n[t].type=e,n[t].value="",a.setState({infoParams:n},function(){return a.queryUpdateSample("params",a.state.infoParams)})},a.handleAssertJsonValueChange=function(e,t){var n=a.state.infoAssertData;n[t].value=e.target.value,a.setState({infoAssertData:n})},a.handleExtractJsonValueChange=function(e,t){var n=a.state.infoExtractData;n[t].value=e.target.value,a.setState({infoExtractData:n})},a.handleHeaderValueChange=function(e,t){var n=a.state.debugHeader;n[t].value=e.target.value,a.setState({debugHeader:n})},a.onAssertDataChange=function(e,t){var n=a.state.infoAssertData;n[t].value=e.target.value,a.setState({infoAssertData:n})},a.handleDeleteParams=function(e){var t=a.state.infoParams;0===e&&1===t.length?a.setState({infoParams:null},function(){a.queryUpdateSample("params",a.state.infoParams)}):(t.splice(e,1),a.setState({infoParams:t},function(){a.queryUpdateSample("params",a.state.infoParams)}))},a.handleDeleteHeader=function(e){var t=a.state.debugHeader;0===e&&1===t.length?a.setState({debugHeader:null}):(t.splice(e,1),a.setState({debugHeader:t}))},a.handleDeleteSection=function(e){var t=a.state.infoAssertData;0===e&&1===t.length?a.setState({infoAssertData:[]},function(){return a.handleAssertDataChange()}):(t.splice(e,1),a.setState({infoAssertData:t},function(){return a.handleAssertDataChange()}))},a.onExpandTree=function(e){a.setState({expandedKeys:e,autoExpandParent:!1})},a.handleDebug=function(){var e=a.props.dispatch,t={};a.state.debugHeader.length>0&&a.state.debugHeader.forEach(function(e){t[e.key]=e.value}),e({type:"interfaceCase/queryDebugSample",payload:{id:a.state.selectedKeys[0],domain:a.state.debugDomain,headers:t}}).then(function(){var e=a.props.interfaceCase;a.setState({debugData:e.debugInfo.debugData,debugResult:e.debugInfo.debugResult})})},a.handleShowAddDebugHeader=function(){a.setState({showAddHeader:!a.state.showAddHeader,debugHeader:[]})},a.state={projectList:[],project:null,clickId:null,treeList:[],extractList:[],rightClickItem:null,debugDomain:null,selectNoteType:null,infoName:"",infoPath:"",infoMethod:"GET",infoParams:null,infoAssertData:null,infoExtractData:null,autoExpandParent:!0,showAddHeader:!1,debugHeader:[],info:{name:"",path:"",method:"GET",params:[],asserts:{assertsType:1,assertData:[]},extract:{extractType:0,extractData:[]}},debugData:{},debugResult:0},a.setDomTreeBoxRef=function(e){return a.treeBox=e},a}return(0,M.default)(t,e),(0,y.default)(t,[{key:"componentWillMount",value:function(){this.queryProjectList()}},{key:"getNodeTreeMenu",value:function(){var e=(0,p.default)({},this.state.rightClickItem),t=e.pageX,a=e.pageY,n=e.noteType,l={position:"absolute",boxShadow:"3px 3px 1px #ecf0f1",border:"1px solid #ecf0f1",left:"".concat(t,"px"),top:"".concat(a-2,"px"),zIndex:999},r=1===n?_.default.createElement(f.default,{onClick:this.handleRightMenuClick,style:l,className:z.default.RightMenu},_.default.createElement(f.default.Item,{key:"1"},_.default.createElement(m.default,{type:"plus-circle"}),"\u6dfb\u52a0\u7528\u4f8b"),_.default.createElement(f.default.Item,{key:"2"},_.default.createElement(m.default,{type:"folder-add"}),"\u6dfb\u52a0\u5b50\u76ee\u5f55"),_.default.createElement(f.default.Item,{key:"4"},_.default.createElement(m.default,{type:"minus-square-o"}),"\u5220\u9664\u76ee\u5f55")):_.default.createElement(f.default,{onClick:this.handleRightMenuClick,style:l,className:z.default.RightMenu},_.default.createElement(f.default.Item,{key:"5"},_.default.createElement(m.default,{type:"copy"}),"\u590d\u5236\u7528\u4f8b"),_.default.createElement(f.default.Item,{key:"6"},_.default.createElement(m.default,{type:"minus-square-o"}),"\u5220\u9664\u7528\u4f8b"));return this.state.rightClickItem&&r}},{key:"render",value:function(){var e=this,t=this.state,a=t.projectList,n=t.project,l=t.treeList,f=t.rightClickItem,p=t.expandedKeys,h=t.selectedKeys,g=t.autoExpandParent,y=t.selectNoteType,v=t.infoName,E=t.infoPath,M=t.infoMethod,x=t.infoParams,T=t.infoAssertType,I=t.infoExtractType,S=t.infoAssertData,q=t.infoExtractData,Y=t.debugDomain,H=t.debugData,U=t.showAddHeader,Q=t.debugHeader,K=t.debugResult,B=t.extractList,G=this.props,F=G.loading,Z=G.debugLoading,J=function t(a){return a.map(function(a){if(1===a.noteType)return _.default.createElement(w,{icon:_.default.createElement(m.default,{type:"folder",theme:"filled",style:{color:"#3498db"}}),key:a.id,dataRef:a,title:a.name,noteType:a.noteType},a.children&&t(a.children));if(0===a.noteType){if("folder"===a.type)return _.default.createElement(w,{icon:_.default.createElement(m.default,{type:"folder",theme:"filled",style:{color:"#3498db"}}),selectable:!1,title:_.default.createElement(C.default,{size:"small",style:{width:100},autoFocus:!0,onBlur:function(t){return e.submitAddFolder(t.target.value)},onPressEnter:function(t){return e.submitAddFolder(t.target.value)}}),key:"0-0-1"});if("case"===a.type)return _.default.createElement(w,{icon:_.default.createElement(m.default,{type:"api",theme:"filled"}),selectable:!1,title:_.default.createElement(C.default,{size:"small",style:{width:100},autoFocus:!0,onBlur:function(t){return e.submitAddCase(t.target.value)},onPressEnter:function(t){return e.submitAddCase(t.target.value)}}),key:"0-0-1"})}return _.default.createElement(w,{icon:_.default.createElement(m.default,{type:"api",theme:"filled"}),key:a.id,dataRef:a,title:a.name,noteType:a.noteType})})},W=_.default.createElement("div",null,_.default.createElement(o.default,{bordered:!1,className:z.default.right_empty_container},_.default.createElement("img",{src:A.default,alt:"empty",className:z.default.empty_image}))),V=_.default.createElement(o.default,{loading:F,bordered:!1},_.default.createElement("div",{className:z.default.item_container},_.default.createElement("div",{className:z.default.item_label_container},_.default.createElement("span",null,"\u76ee\u5f55\u540d\u79f0\uff1a")),_.default.createElement("div",{className:z.default.item_content_container},_.default.createElement(C.default,{placeholder:"\u6807\u9898\u540d\u79f0",size:"small",value:v,onChange:function(t){e.setState({infoName:t.target.value})},onBlur:function(t){return e.hanldeNameChange(t)},className:z.default.item_item}))),_.default.createElement(c.default,null)),X=_.default.createElement(o.default,{loading:F,bordered:!1},_.default.createElement(c.default,{orientation:"left"},"\u57fa\u672c\u4fe1\u606f"),_.default.createElement("div",{className:z.default.item_container},_.default.createElement("div",{className:z.default.item_label_container},_.default.createElement("span",null,"\u7528\u4f8b\u540d\u79f0\uff1a")),_.default.createElement("div",{className:z.default.item_content_container},_.default.createElement(C.default,{placeholder:"\u6807\u9898\u540d\u79f0",size:"small",value:v,onChange:function(t){e.setState({infoName:t.target.value})},onBlur:function(t){return e.hanldeNameChange(t)},className:z.default.item_item}))),_.default.createElement(c.default,{orientation:"left"},"\u8bf7\u6c42\u8bbe\u7f6e"),_.default.createElement("div",{className:z.default.item_container},_.default.createElement("div",{className:z.default.item_label_container},_.default.createElement("span",null,"\u8bf7\u6c42\u8def\u5f84\uff1a")),_.default.createElement("div",{className:z.default.item_content_container},_.default.createElement(O,{className:z.default.item_item,compact:!0},_.default.createElement(D.default,{placeholder:"method",size:"small",value:M,style:{width:"20%"},onChange:function(t){return e.handleMethodChange(t)}},_.default.createElement(P,{value:"POST"},"POST"),_.default.createElement(P,{value:"GET"},"GET")),_.default.createElement(C.default,{style:{width:"80%"},placeholder:"\u8bf7\u6c42\u8def\u5f84eg:/path/path",size:"small",value:E,onChange:function(t){e.setState({infoPath:t.target.value})},onBlur:function(t){return e.hanldePathChange(t)}})))),_.default.createElement("div",{className:z.default.item_container},_.default.createElement("div",{className:z.default.item_label_container},_.default.createElement("span",null,"\u8bf7\u6c42\u53c2\u6570\uff1a")),_.default.createElement("div",{className:z.default.item_content_container},x&&x.map(function(t,a){return _.default.createElement(O,{size:"small",key:t.id,className:z.default.item_attrs_container},_.default.createElement(s.default,{span:6},_.default.createElement(C.default,{placeholder:"\u5c5e\u6027\u540d",value:t.key,onChange:function(t){return e.handleParamsKeyChange(t,a)},onBlur:function(){return e.queryUpdateSample("params",e.state.infoParams)}})),_.default.createElement(s.default,{span:10},t.type&&_.default.createElement(D.default,{placeholder:"\u9009\u62e9\u81ea\u5b9a\u4e49\u53c2\u6570",value:t.value,style:{width:"100%"},size:"small",onChange:function(t){return e.handleParamsSelectValueChange(t,a)}},B&&B.map(function(e){var t=e.extractKey.replace("${","").replace("}","");return _.default.createElement(P,{key:e.id,value:"${".concat(e.extractKey,"}"),title:e.caseName,disabled:q.length>0&&t===q[0].key},_.default.createElement("span",{style:q.length>0&&t===q[0].key?{}:{color:"blue"}},t))})),!t.type&&_.default.createElement(C.default,{placeholder:"\u5c5e\u6027\u503c",value:t.value,onChange:function(t){return e.handleParamsValueChange(t,a)},onBlur:function(){return e.queryUpdateSample("params",e.state.infoParams)}})),_.default.createElement(s.default,{span:2},_.default.createElement(u.default,{size:"small",checked:t.type,onChange:function(t){return e.handleParamsTypeChange(t,a)}})),_.default.createElement(s.default,{span:1},_.default.createElement(m.default,{type:"minus-circle",onClick:function(){return e.handleDeleteParams(a)}})))}),_.default.createElement(d.default,{type:"dashed",size:"small",onClick:function(){return e.handleAddParams()},className:z.default.item_item},_.default.createElement(m.default,{type:"plus"})," Add field"))),_.default.createElement(c.default,{orientation:"left"},"\u8fd4\u56de\u6821\u9a8c"),_.default.createElement("div",{className:z.default.item_container},_.default.createElement("div",{className:z.default.item_label_container},_.default.createElement("span",null,"\u6821\u9a8c\u7c7b\u578b\uff1a")),_.default.createElement("div",{className:z.default.item_content_container},_.default.createElement(i.default.Group,{value:T,onChange:function(t){return e.handleAssertTypeChange(t)}},_.default.createElement(i.default,{value:1},"\u54cd\u5e94\u65ad\u8a00"),_.default.createElement(i.default,{value:2},"JSON\u65ad\u8a00")))),_.default.createElement("div",{className:z.default.item_container},_.default.createElement("div",{className:z.default.item_label_container},_.default.createElement("span",null,"\u6821\u9a8c\u503c\uff1a")),_.default.createElement("div",{className:z.default.item_content_container},1===T&&_.default.createElement("div",null,_.default.createElement("div",{className:z.default.item_item},S&&S.map(function(t,a){return _.default.createElement("div",{style:{marginBottom:10,display:"flex",flexDirection:"row"},key:t.id},_.default.createElement(R,{placeholder:'\u9700\u8981\u6821\u9a8c\u7684\u8fd4\u56de\u503c.eg: "code":0 ',value:t.value,autosize:{minRows:2,maxRows:6},onChange:function(t){return e.onAssertDataChange(t,a)},onBlur:function(){return e.handleAssertDataChange()}}),_.default.createElement("div",{className:z.default.section_delete},_.default.createElement(m.default,{type:"minus-circle",onClick:function(){return e.handleDeleteSection(a)}})))})),_.default.createElement(d.default,{type:"dashed",onClick:function(){return e.handeAssertData()},className:z.default.item_item,style:{height:60}},_.default.createElement(m.default,{type:"plus"})," Add field")),2===T&&_.default.createElement("div",null,S&&S.map(function(t,a){return _.default.createElement(O,{size:"small",className:z.default.item_attrs_container,key:t.id},_.default.createElement(s.default,{span:10},_.default.createElement(C.default,{placeholder:"json\u8def\u5f84.eg: content.testdata.xxx ",value:t.key,onChange:function(t){return e.handleAssertJsonKeyChange(t,a)},onBlur:function(){return e.handleAssertDataChange()}})),_.default.createElement(s.default,{span:10},_.default.createElement(C.default,{placeholder:"\u5b57\u6bb5\u503c",value:t.value,onChange:function(t){return e.handleAssertJsonValueChange(t,a)},onBlur:function(){return e.handleAssertDataChange()}})))})))),_.default.createElement(c.default,{orientation:"left"},"\u53c2\u6570\u5316\u8bbe\u7f6e"),_.default.createElement("div",{className:z.default.item_container},_.default.createElement("div",{className:z.default.item_label_container},_.default.createElement("span",null,"\u63d0\u53d6\u65b9\u5f0f\uff1a")),_.default.createElement("div",{className:z.default.item_content_container},_.default.createElement(i.default.Group,{value:I,onChange:function(t){return e.handleExtractTypeChange(t)}},_.default.createElement(i.default,{value:0},"\u4e0d\u63d0\u53d6"),_.default.createElement(i.default,{value:1},"JSON\u63d0\u53d6")))),_.default.createElement("div",{className:z.default.item_container},_.default.createElement("div",{className:z.default.item_label_container},_.default.createElement("span",null,"\u5b9a\u4e49\u53c2\u6570\uff1a")),_.default.createElement("div",{className:z.default.item_content_container},1===I&&_.default.createElement("div",null,q&&q.map(function(t,a){return _.default.createElement(O,{size:"small",className:z.default.item_attrs_container,key:t.id},_.default.createElement(s.default,{span:10},_.default.createElement(C.default,{placeholder:"\u53c2\u6570\u540d\u79f0",style:{color:"blue"},value:t.key,onChange:function(t){return e.handleExtractJsonKeyChange(t,a)},onBlur:function(){return e.handleExtractDataChange()}})),_.default.createElement(s.default,{span:10},_.default.createElement(C.default,{placeholder:"json\u8def\u5f84.eg: content.testdata.xxx ",value:t.value,onChange:function(t){return e.handleExtractJsonValueChange(t,a)},onBlur:function(){return e.handleExtractDataChange()}})))}))))),$=_.default.createElement(r.default,{spinning:Z||!1},_.default.createElement(o.default,{bordered:!1},_.default.createElement("div",{className:z.default.debug_label_container},_.default.createElement("span",null,"\u8c03\u8bd5\u57df\u540d\uff1a")),_.default.createElement("div",{className:z.default.item_container},_.default.createElement("div",{className:z.default.debug_content_container},_.default.createElement(C.default,{placeholder:"eg:https://app.xxxx.com",size:"small",value:Y,onChange:function(t){e.setState({debugDomain:t.target.value})}})),_.default.createElement(d.default,{type:"primary",size:"small",onClick:function(){return e.handleDebug()}},"\u8c03\u8bd5")),_.default.createElement("div",{className:z.default.debug_header_container},_.default.createElement("div",{className:z.default.debug_add_header},_.default.createElement("a",{onClick:function(){return e.handleShowAddDebugHeader()}},"\u8bf7\u6c42\u5934\u8bbe\u7f6e"))),U&&_.default.createElement("div",{className:z.default.debug_header_content},Q&&Q.map(function(t,a){return _.default.createElement(O,{size:"small",key:t.id,className:z.default.item_attrs_container},_.default.createElement(s.default,{span:8},_.default.createElement(C.default,{placeholder:"\u5c5e\u6027\u540d",value:t.key,onChange:function(t){return e.handleHeaderKeyChange(t,a)}})),_.default.createElement(s.default,{span:10},_.default.createElement(C.default,{placeholder:"\u5c5e\u6027\u503c",value:t.value,onChange:function(t){return e.handleHeaderValueChange(t,a)}})),_.default.createElement("div",{className:z.default.action_icon},_.default.createElement(m.default,{type:"minus-circle",onClick:function(){return e.handleDeleteHeader(a)}})))}),_.default.createElement(d.default,{type:"dashed",size:"small",onClick:function(){return e.handleAddHeader()},className:z.default.item_item},_.default.createElement(m.default,{type:"plus"})," Add field")),_.default.createElement("div",{className:z.default.debug_label_container},_.default.createElement("span",null,"\u54cd\u5e94\u4fe1\u606f\uff1a")),_.default.createElement("div",{className:z.default.item_container},_.default.createElement("div",{className:z.default.debug_response_container},0!==K&&_.default.createElement(k.default,{id:"json-pretty",data:H}))),_.default.createElement("div",{className:z.default.debug_label_container},_.default.createElement("span",null,"\u6821\u9a8c\u7ed3\u679c\uff1a")),_.default.createElement("div",{className:z.default.item_container},_.default.createElement("div",{className:z.default.debug_assert_container},1===K&&_.default.createElement("div",{className:z.default.success},_.default.createElement(m.default,{type:"check-circle",theme:"filled",style:{fontSize:22}}),_.default.createElement("div",null,"\u6d4b\u8bd5\u901a\u8fc7")),2===K&&_.default.createElement("div",{className:z.default.fail},_.default.createElement(m.default,{type:"close-circle",theme:"filled",style:{fontSize:22}}),_.default.createElement("div",null,"\u6d4b\u8bd5\u5931\u8d25"))))));return _.default.createElement(j,null,_.default.createElement(b.default,{style:{background:"#fff",borderRadius:"5px"},onClick:function(){return e.clearMenu()}},_.default.createElement(L,{width:220,style:{background:"#fff",borderRight:"1px solid #e8e8e8",padding:10,height:"80vh"}},_.default.createElement(D.default,{placeholder:"\u8bf7\u9009\u62e9\u9879\u76ee",value:n||void 0,style:{width:"100%"},size:"small",onChange:this.handleProjectChange},a&&a.map(function(e){return _.default.createElement(P,{value:e.id,key:e.id},e.name)})),_.default.createElement("div",{className:z.default.left_container,ref:this.setDomTreeBoxRef},_.default.createElement(N.default,{showIcon:!0,draggable:!0,autoExpandParent:g,defaultExpandAll:!0,selectedKeys:h,expandedKeys:p,onSelect:this.onSelect,onDrop:this.onDrop,onCheck:this.onCheck,onExpand:this.onExpandTree,onRightClick:function(t){return e.handleOnRightClick(t)}},l&&J(l)))),_.default.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%"}},_.default.createElement(j,{style:{background:"#fff",padding:10,height:"80vh",width:"70%",borderRight:"1px solid #e8e8e8"}},_.default.createElement("div",{className:z.default.right_container},!(h&&h.length>0)&&W,h&&1===y&&V,h&&2===y&&X)),_.default.createElement(j,{style:{background:"#fff",padding:10,height:"80vh",width:"30%"}},_.default.createElement("div",{className:z.default.right_container},h&&2===y&&$)))),f&&this.getNodeTreeMenu())}}]),t}(_.Component),T=I))||T),Y=q;t.default=Y},GicG:function(e,t,a){e.exports={left_container:"antd-pro\\pages\\-i-a-t\\-interface\\index-left_container",RightMenu:"antd-pro\\pages\\-i-a-t\\-interface\\index-RightMenu",right_container:"antd-pro\\pages\\-i-a-t\\-interface\\index-right_container",item_container:"antd-pro\\pages\\-i-a-t\\-interface\\index-item_container",item_label_container:"antd-pro\\pages\\-i-a-t\\-interface\\index-item_label_container",debug_label_container:"antd-pro\\pages\\-i-a-t\\-interface\\index-debug_label_container",section_delete:"antd-pro\\pages\\-i-a-t\\-interface\\index-section_delete",action_icon:"antd-pro\\pages\\-i-a-t\\-interface\\index-action_icon",debug_content_container:"antd-pro\\pages\\-i-a-t\\-interface\\index-debug_content_container",debug_response_container:"antd-pro\\pages\\-i-a-t\\-interface\\index-debug_response_container",debug_assert_container:"antd-pro\\pages\\-i-a-t\\-interface\\index-debug_assert_container",success:"antd-pro\\pages\\-i-a-t\\-interface\\index-success",fail:"antd-pro\\pages\\-i-a-t\\-interface\\index-fail",debug_header_container:"antd-pro\\pages\\-i-a-t\\-interface\\index-debug_header_container",debug_header_content:"antd-pro\\pages\\-i-a-t\\-interface\\index-debug_header_content",debug_add_header:"antd-pro\\pages\\-i-a-t\\-interface\\index-debug_add_header",item_content_container:"antd-pro\\pages\\-i-a-t\\-interface\\index-item_content_container",item_item:"antd-pro\\pages\\-i-a-t\\-interface\\index-item_item",item_editor:"antd-pro\\pages\\-i-a-t\\-interface\\index-item_editor",right_empty_container:"antd-pro\\pages\\-i-a-t\\-interface\\index-right_empty_container",empty_image:"antd-pro\\pages\\-i-a-t\\-interface\\index-empty_image"}},hHl9:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTI4NDI2NDE4OTU1IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9Ijk2NzMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNMTAyLjQgNzQ0LjcyNzI3MyAxMzkuNjM2MzY0IDc0NC43MjcyNzNsMC0xMzkuNjM2MzY0TDEwMi40IDYwNS4wOTA5MDljMCAwLTU1Ljg1NDU0NSAwLTU1Ljg1NDU0NSA2OS44MTgxODJTMTAyLjQgNzQ0LjcyNzI3MyAxMDIuNCA3NDQuNzI3MjczeiIgcC1pZD0iOTY3NCIgZmlsbD0iI2RiZGJkYiI+PC9wYXRoPjxwYXRoIGQ9Ik0xMDIuNCAzMjUuODE4MTgyIDEzOS42MzYzNjQgMzI1LjgxODE4MiAxMzkuNjM2MzY0IDE4Ni4xODE4MTggMTAyLjQgMTg2LjE4MTgxOEMxMDIuNCAxODYuMTgxODE4IDQ2LjU0NTQ1NSAxODYuMTgxODE4IDQ2LjU0NTQ1NSAyNTZTMTAyLjQgMzI1LjgxODE4MiAxMDIuNCAzMjUuODE4MTgyeiIgcC1pZD0iOTY3NSIgZmlsbD0iI2RiZGJkYiI+PC9wYXRoPjxwYXRoIGQ9Ik0xMDIuNCA1MTIgMTM5LjYzNjM2NCA1MTIgMTM5LjYzNjM2NCAzNzIuMzYzNjM2IDEwMi40IDM3Mi4zNjM2MzZDMTAyLjQgMzcyLjM2MzYzNiA0Ni41NDU0NTUgMzcyLjM2MzYzNiA0Ni41NDU0NTUgNDQyLjE4MTgxOFMxMDIuNCA1MTIgMTAyLjQgNTEyeiIgcC1pZD0iOTY3NiIgZmlsbD0iI2RiZGJkYiI+PC9wYXRoPjxwYXRoIGQ9Ik0xMDIuNCA5MzAuOTA5MDkxIDEzOS42MzYzNjQgOTMwLjkwOTA5MWwwLTEzOS42MzYzNjRMMTAyLjQgNzkxLjI3MjcyN2MwIDAtNTUuODU0NTQ1IDAtNTUuODU0NTQ1IDY5LjgxODE4MlMxMDIuNCA5MzAuOTA5MDkxIDEwMi40IDkzMC45MDkwOTF6IiBwLWlkPSI5Njc3IiBmaWxsPSIjZGJkYmRiIj48L3BhdGg+PHBhdGggZD0iTTE4Ni4xODE4MTggMTM5LjI2NGwwIDgzOC41NjI5MDlDMTg2LjE4MTgxOCAxMDAzLjMzMzgxOCAyMDcuMDgwNzI3IDEwMjQgMjMzLjA5OTYzNiAxMDI0bDYwNC4zOTI3MjcgMEM4NjMuMzcxNjM2IDEwMjQgODg0LjM2MzYzNiAxMDAyLjgyMTgxOCA4ODQuMzYzNjM2IDk3Ny44MjY5MDlMODg0LjM2MzYzNiAxMzkuMjY0Qzg4NC4zNjM2MzYgMTEzLjc1NzA5MSA4NjMuNDY0NzI3IDkzLjA5MDkwOSA4MzcuNDQ1ODE4IDkzLjA5MDkwOUwyMzMuMDk5NjM2IDkzLjA5MDkwOUMyMDcuMTczODE4IDkzLjA5MDkwOSAxODYuMTgxODE4IDExNC4yNjkwOTEgMTg2LjE4MTgxOCAxMzkuMjY0ek04MzcuODE4MTgyIDEzOS42MzYzNjRsMCA4MzcuODE4MTgyTDIzMi43MjcyNzMgOTc3LjQ1NDU0NSAyMzIuNzI3MjczIDEzOS42MzYzNjQgODM3LjgxODE4MiAxMzkuNjM2MzY0eiIgcC1pZD0iOTY3OCIgZmlsbD0iI2RiZGJkYiI+PC9wYXRoPjxwYXRoIGQ9Ik05NzcuNDU0NTQ1IDkzMC45MDkwOTEgOTc3LjQ1NDU0NSAwIDI3OS4yNzI3MjcgMCAyNzkuMjcyNzI3IDQzLjY1OTYzNiA5MzQuOTEyIDQzLjY1OTYzNiA5MzQuOTEyIDkzMC45MDkwOTFaIiBwLWlkPSI5Njc5IiBmaWxsPSIjZGJkYmRiIj48L3BhdGg+PC9zdmc+"},mcBY:function(e,t,a){e.exports={ellipsis:"antd-pro\\components\\-ellipsis\\index-ellipsis",lines:"antd-pro\\components\\-ellipsis\\index-lines",shadow:"antd-pro\\components\\-ellipsis\\index-shadow",lineClamp:"antd-pro\\components\\-ellipsis\\index-lineClamp"}},xNuS:function(e,t,a){"use strict";var n=a("Dthn"),l=a("FfR7");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.cutStrByFullLength=t.getStrFullLength=void 0;var r=l(a("NuQ2")),i=l(a("ee8y")),d=l(a("b4l6")),u=l(a("0wiU")),s=l(a("SnMR")),c=l(a("GZrC")),o=l(a("nH91")),f=l(a("nsw/"));a("EpwP");var m=l(a("MRc1")),p=l(a("gx1s")),h=n(a("rdAL")),g=l(a("iczh")),y=l(a("mcBY")),v=void 0!==document.body.style.webkitLineClamp,E={overflowWrap:"break-word",wordWrap:"break-word"},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("").reduce(function(e,t){var a=t.charCodeAt(0);return a>=0&&a<=128?e+1:e+2},0)};t.getStrFullLength=M;var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=0;return e.split("").reduce(function(e,n){var l=n.charCodeAt(0);return a+=l>=0&&l<=128?1:2,a<=t?e+n:e},"")};t.cutStrByFullLength=C;var D=function(e){var t=e.tooltip,a=e.overlayStyle,n=e.title,l=e.children;if(t){var r=!0===t?{overlayStyle:a,title:n}:(0,p.default)({},t,{overlayStyle:a,title:n});return h.default.createElement(m.default,r,l)}return l},N=function(e){var t=e.text,a=e.length,n=e.tooltip,l=e.fullWidthRecognition,r=(0,f.default)(e,["text","length","tooltip","fullWidthRecognition"]);if("string"!==typeof t)throw new Error("Ellipsis children must be string.");var i=l?M(t):t.length;if(i<=a||a<0)return h.default.createElement("span",r,t);var d,u="...";d=a-u.length<=0?"":l?C(t,a):t.slice(0,a);var s=n?{}:(0,p.default)({},r);return D({tooltip:n,overlayStyle:E,title:t,children:h.default.createElement("span",s,d,u)})},x=function(e){function t(){var e,a;(0,d.default)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(l))),a.state={text:"",targetCount:0},a.computeLine=function(){var e=a.props.lines;if(e&&!v){var t=a.shadowChildren.innerText||a.shadowChildren.textContent,n=parseInt(getComputedStyle(a.root).lineHeight,10),l=e*n;a.content.style.height="".concat(l,"px");var r=a.shadowChildren.offsetHeight,i=a.shadow.firstChild;if(r<=l)return void a.setState({text:t,targetCount:t.length});var d=t.length,u=Math.ceil(d/2),s=a.bisection(l,u,0,d,t,i);a.setState({text:t,targetCount:s})}},a.bisection=function(e,t,n,l,r,i){var d="...",u=t,s=l,c=n;i.innerHTML=r.substring(0,u)+d;var o=i.offsetHeight;return o<=e?(i.innerHTML=r.substring(0,u+1)+d,o=i.offsetHeight,o>e||u===c?u:(c=u,u=s-c===1?1+c:Math.floor((s-c)/2)+c,a.bisection(e,u,c,s,r,i))):u-1<0?u:(i.innerHTML=r.substring(0,u-1)+d,o=i.offsetHeight,o<=e?u-1:(s=u,u=Math.floor((s-c)/2)+c,a.bisection(e,u,c,s,r,i)))},a.handleRoot=function(e){a.root=e},a.handleContent=function(e){a.content=e},a.handleNode=function(e){a.node=e},a.handleShadow=function(e){a.shadow=e},a.handleShadowChildren=function(e){a.shadowChildren=e},a}return(0,o.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.node&&this.computeLine()}},{key:"componentDidUpdate",value:function(e){var t=this.props.lines;t!==e.lines&&this.computeLine()}},{key:"render",value:function(){var e,t=this.state,a=t.text,n=t.targetCount,l=this.props,d=l.children,u=l.lines,s=l.length,c=l.className,o=l.tooltip,m=l.fullWidthRecognition,p=(0,f.default)(l,["children","lines","length","className","tooltip","fullWidthRecognition"]),M=(0,g.default)(y.default.ellipsis,c,(e={},(0,i.default)(e,y.default.lines,u&&!v),(0,i.default)(e,y.default.lineClamp,u&&v),e));if(!u&&!s)return h.default.createElement("span",(0,r.default)({className:M},p),d);if(!u)return h.default.createElement(N,(0,r.default)({className:M,length:s,text:d||"",tooltip:o,fullWidthRecognition:m},p));var C="antd-pro-ellipsis-".concat("".concat((new Date).getTime()).concat(Math.floor(100*Math.random())));if(v){var x="#".concat(C,"{-webkit-line-clamp:").concat(u,";-webkit-box-orient: vertical;}"),T=h.default.createElement("div",(0,r.default)({id:C,className:M},p),h.default.createElement("style",null,x),d);return D({tooltip:o,overlayStyle:E,title:d,children:T})}var I=h.default.createElement("span",{ref:this.handleNode},n>0&&a.substring(0,n),n>0&&n<a.length&&"...");return h.default.createElement("div",(0,r.default)({},p,{ref:this.handleRoot,className:M}),h.default.createElement("div",{ref:this.handleContent},D({tooltip:o,overlayStyle:E,title:a,children:I}),h.default.createElement("div",{className:y.default.shadow,ref:this.handleShadowChildren},d),h.default.createElement("div",{className:y.default.shadow,ref:this.handleShadow},h.default.createElement("span",null,a))))}}]),t}(h.Component);t.default=x}}]);