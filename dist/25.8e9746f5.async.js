(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{FoCO:function(e,t,a){"use strict";var n=a("Kx42"),l=a("9IiP");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("nyPz");var d=n(a("Ky58"));a("okGu");var o=n(a("izsL"));a("NDJR");var r=n(a("O/nY"));a("/HLi");var u=n(a("pE3a"));a("7yTU");var i=n(a("w1zo"));a("A4tV");var s=n(a("iZNX"));a("UsAl");var c=n(a("FeaX"));a("iUfc");var f=n(a("rMwF"));a("u+7c");var p,m,y,h=n(a("j5m9")),v=n(a("JcFD")),j=n(a("1JdC")),S=n(a("Ack4")),k=n(a("z8zN")),C=n(a("DcvJ")),E=l(a("fjaS")),w=a("32uE"),P=(p=(0,w.connect)(function(e){var t=e.system,a=e.loading;return{system:t,loading:a.effects["system/queryProjectList"]}}),p((y=function(e){function t(){var e,a;(0,v.default)(this,t);for(var n=arguments.length,l=new Array(n),d=0;d<n;d++)l[d]=arguments[d];return a=(0,S.default)(this,(e=(0,k.default)(t)).call.apply(e,[this].concat(l))),a.state={showAddModal:!1,projectList:[],name:"",projectId:""},a.showAddModal=function(){a.setState({showAddModal:!0})},a.handleAdd=function(){var e=a.state.name,t=a.props.dispatch;e&&t({type:"system/queryAddProject",payload:{name:e}}).then(function(){a.queryProjectList(),a.handleCancel()})},a.queryProjectList=function(){var e=a.props.dispatch;e({type:"system/queryProjectList",payload:{status:""}}).then(function(){var e=a.props.system;a.setState({projectList:e.projectList})})},a.handleCancel=function(){a.setState({showAddModal:!1,name:""})},a.querySetProjectStatus=function(e,t){var n=a.props.dispatch;n({type:"system/querySetProjectStatus",payload:{id:e,status:t}}).then(function(){a.queryProjectList()})},a.handleSetClassStatus=function(e){1===e.status?a.querySetProjectStatus(e.id,0):a.querySetProjectStatus(e.id,1)},a.handleUpload=function(e){a.setState({projectId:e})},a}return(0,C.default)(t,e),(0,j.default)(t,[{key:"componentWillMount",value:function(){this.queryProjectList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.projectList,n=t.showAddModal,l=t.name,p=t.projectId,m=this.props.loading,y={name:"file",action:"/api/IAT/uploadFile",headers:{authorization:"authorization-text"},data:{id:p},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?h.default.success("".concat(e.file.name," \u4e0a\u4f20\u6210\u529f\uff01")):"error"===e.file.status&&h.default.error("".concat(e.file.name," \u4e0a\u4f20\u5931\u8d25\uff01"))}},v=[{title:"\u9879\u76ee\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u7528\u4f8b\u6570\u91cf",dataIndex:"count",key:"count"},{title:"\u521b\u5efa\u4eba",dataIndex:"add_user",key:"add_user"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"add_time",key:"add_time"},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",render:function(t,a){return E.default.createElement("div",null,1===a.status?E.default.createElement("a",{onClick:function(){return e.handleSetClassStatus(a)}},"\u5173\u95ed"):E.default.createElement("a",{onClick:function(){return e.handleSetClassStatus(a)}},"\u542f\u7528"),E.default.createElement(f.default,{type:"vertical"}),E.default.createElement(c.default,y,E.default.createElement("a",{onClick:function(){return e.handleUpload(a.id)}},"\u6279\u91cf\u5bfc\u5165")))}}];return E.default.createElement("div",null,E.default.createElement(r.default,{bordered:!1},E.default.createElement("div",{style:{marginBottom:16}},E.default.createElement(i.default,{type:"primary",onClick:this.showAddModal},E.default.createElement(s.default,{type:"plus"}),"\u65b0\u589e\u9879\u76ee")),E.default.createElement(u.default,{loading:m,dataSource:a,columns:v,size:"small"})),E.default.createElement(d.default,{visible:n,title:"\u65b0\u589e\u9879\u76ee",onOk:function(){return e.handleAdd()},onCancel:function(){return e.handleCancel()}},E.default.createElement(o.default,{placeholder:"\u8f93\u5165\u9879\u76ee\u540d\u79f0",autoFocus:!0,value:l,onChange:function(t){return e.setState({name:t.target.value})}})))}}]),t}(E.PureComponent),m=y))||m),A=P;t.default=A}}]);