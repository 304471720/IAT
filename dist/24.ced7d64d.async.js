(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{FoCO:function(e,t,a){"use strict";var n=a("asgD"),l=a("wwZU");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("080j");var d=n(a("swWM"));a("kHSo");var o=n(a("chwx"));a("PikD");var u=n(a("9QT/"));a("PIeK");var r=n(a("0c7+"));a("80wb");var s=n(a("0h6Q"));a("vZQa");var i=n(a("pK6Z"));a("ZCPW");var c=n(a("WXD9"));a("ehcg");var f=n(a("Wjv/"));a("UWBG");var p,h,m,y=n(a("9p/O")),v=n(a("tkTL")),j=n(a("wQec")),S=n(a("lx1e")),w=n(a("Ngnc")),k=n(a("UQKB")),C=l(a("fjaS")),P=a("32uE"),E=(p=(0,P.connect)(function(e){var t=e.system,a=e.loading;return{system:t,loading:a.effects["system/queryProjectList"]}}),p((m=function(e){function t(){var e,a;(0,v.default)(this,t);for(var n=arguments.length,l=new Array(n),d=0;d<n;d++)l[d]=arguments[d];return a=(0,S.default)(this,(e=(0,w.default)(t)).call.apply(e,[this].concat(l))),a.state={showAddModal:!1,projectList:[],name:"",projectId:""},a.showAddModal=function(){a.setState({showAddModal:!0})},a.handleAdd=function(){var e=a.state.name,t=a.props.dispatch;e&&t({type:"system/queryAddProject",payload:{name:e}}).then(function(){a.queryProjectList(),a.handleCancel()})},a.queryProjectList=function(){var e=a.props.dispatch;e({type:"system/queryProjectList",payload:{status:""}}).then(function(){var e=a.props.system;a.setState({projectList:e.projectList})})},a.handleCancel=function(){a.setState({showAddModal:!1,name:""})},a.querySetProjectStatus=function(e,t){var n=a.props.dispatch;n({type:"system/querySetProjectStatus",payload:{id:e,status:t}}).then(function(){a.queryProjectList()})},a.handleSetClassStatus=function(e){1===e.status?a.querySetProjectStatus(e.id,0):a.querySetProjectStatus(e.id,1)},a.handleUpload=function(e){a.setState({projectId:e})},a}return(0,k.default)(t,e),(0,j.default)(t,[{key:"componentWillMount",value:function(){this.queryProjectList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.projectList,n=t.showAddModal,l=t.name,p=t.projectId,h=this.props.loading,m={name:"file",action:"/api/IAT/uploadFile",headers:{authorization:"authorization-text"},data:{id:p},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?y.default.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&y.default.error("".concat(e.file.name," file upload failed."))}},v=[{title:"\u9879\u76ee\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u7528\u4f8b\u6570\u91cf",dataIndex:"count",key:"count"},{title:"\u521b\u5efa\u4eba",dataIndex:"add_user",key:"add_user"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"add_time",key:"add_time"},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",render:function(t,a){return C.default.createElement("div",null,1===a.status?C.default.createElement("a",{onClick:function(){return e.handleSetClassStatus(a)}},"\u5173\u95ed"):C.default.createElement("a",{onClick:function(){return e.handleSetClassStatus(a)}},"\u542f\u7528"),C.default.createElement(f.default,{type:"vertical"}),C.default.createElement(c.default,m,C.default.createElement("a",{onClick:function(){return e.handleUpload(a.id)}},"\u6279\u91cf\u5bfc\u5165")))}}];return C.default.createElement("div",null,C.default.createElement(u.default,{bordered:!1},C.default.createElement("div",{style:{marginBottom:16}},C.default.createElement(s.default,{type:"primary",onClick:this.showAddModal},C.default.createElement(i.default,{type:"plus"}),"\u65b0\u589e\u9879\u76ee")),C.default.createElement(r.default,{loading:h,dataSource:a,columns:v,size:"small"})),C.default.createElement(d.default,{visible:n,title:"\u65b0\u589e\u9879\u76ee",onOk:function(){return e.handleAdd()},onCancel:function(){return e.handleCancel()}},C.default.createElement(o.default,{placeholder:"\u8f93\u5165\u9879\u76ee\u540d\u79f0",autoFocus:!0,value:l,onChange:function(t){return e.setState({name:t.target.value})}})))}}]),t}(C.PureComponent),h=m))||h),g=E;t.default=g}}]);