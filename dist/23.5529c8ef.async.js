(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"I+uj":function(e,t,a){"use strict";var l=a("Kx42"),s=a("9IiP");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Ned6");var u=l(a("kCSO"));a("IVmH");var r=l(a("9Gyq"));a("NDJR");var n=l(a("O/nY")),d=l(a("JcFD")),f=l(a("1JdC")),c=l(a("Ack4")),i=l(a("z8zN")),o=l(a("DcvJ"));a("w5ni");var m,p,y,k=l(a("iKoH")),E=s(a("fjaS")),v=a("KTCi"),h=l(a("9plo")),g=a("32uE"),x=l(a("zHco")),R=l(a("oQmc")),b=k.default.Panel,C=(m=(0,g.connect)(function(e){var t=e.system,a=e.task,l=e.loading;return{system:t,task:a,loading:l.effects["task/queryTaskResult"]}}),m((y=function(e){function t(){var e,a;(0,d.default)(this,t);for(var l=arguments.length,s=new Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=(0,c.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(s))),a.state={taskResult:{},charData:[{title:"",x:0,y:0}],result:[{x:"\u6d4b\u8bd5\u901a\u8fc7",y:0},{x:"\u6d4b\u8bd5\u5931\u8d25",y:0}],dailyResult:[{failCount:0,runTime:0,day:"00000",taskCount:0,avrageElapsed:0}]},a.queryTaskInfo=function(e){a.props.dispatch({type:"task/queryTaskResult",payload:{id:e}}).then(function(){var e=a.props.task,t=[];e.taskResult.result&&e.taskResult.result.forEach(function(e){t.push({title:e.label,label:(0,h.default)(e.timeStamp).format("H:mm:ss"),x:parseInt(e.timeStamp,10),y:parseInt(e.elapsed,10)})}),a.setState({charData:t,taskResult:e.taskResult,result:[{x:"\u6d4b\u8bd5\u901a\u8fc7",y:e.taskResult.sucess},{x:"\u6d4b\u8bd5\u5931\u8d25",y:e.taskResult.fail}],dailyResult:e.taskResult.daily_result})})},a}return(0,o.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.location.search;if(-1!==e.indexOf("?")){var t=e.substr(1);this.queryTaskInfo(t)}}},{key:"render",value:function(){var e=this.state,t=e.taskResult,a=e.result,l=e.dailyResult,s=this.props.loading,d=E.default.createElement("div",{className:R.default.pageHeaderContent},E.default.createElement("p",null,"\u5f00\u59cb\u65f6\u95f4\uff1a",(0,h.default)(t.startTime).format("YYYY-MM-DD HH:mm:ss")),E.default.createElement("p",null,"\u7ed3\u675f\u65f6\u95f4\uff1a",(0,h.default)(t.endTime).format("YYYY-MM-DD HH:mm:ss")),E.default.createElement("p",null,"\u7528\u4f8b\u7edf\u8ba1\uff1a",E.default.createElement("span",{className:R.default.total},t.total)," \u603b\u6570",E.default.createElement("span",{className:R.default.sucess},t.sucess)," \u6210\u529f",E.default.createElement("span",{className:R.default.fail},t.fail)," \u5931\u8d25")),f=E.default.createElement("div",{className:R.default.extraImg},E.default.createElement(v.Pie,{data:a,colors:["#2ecc71","#e74c3c"],height:160,lineWidth:4}));return E.default.createElement(x.default,{title:t.testname,content:d,extraContent:f},E.default.createElement(u.default,{gutter:24},E.default.createElement(r.default,{xl:12,lg:24,md:24,sm:24,xs:24},E.default.createElement(n.default,{title:"\u672c\u6b21\u4efb\u52a1\u7ed3\u679c",bordered:!1,loading:s},E.default.createElement(k.default,{className:R.default.resultCollapse},t.result&&t.result.map(function(e,t){return E.default.createElement(b,{header:E.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"#/interface/index?".concat(e.id)},e.label),key:t,className:"True"===e.success?R.default.caseSucess:R.default.caseFail},E.default.createElement("p",null,e.failureMessage))})))),E.default.createElement(r.default,{xl:12,lg:24,md:24,sm:24,xs:24},E.default.createElement(n.default,{title:"\u6bcf\u65e5\u8017\u65f6\u6570\u636e\u5bf9\u6bd4",bordered:!1,loading:s},E.default.createElement("div",{style:{padding:"0 24px"}},E.default.createElement(v.Curved,{data:l}))),E.default.createElement(n.default,{style:{marginTop:10},title:"\u6bcf\u65e5\u7528\u4f8b\u6267\u884c\u60c5\u51b5",bordered:!1,loading:s},E.default.createElement("div",{style:{padding:"0 24px"}},E.default.createElement(v.CurvedTwo,{data:l}))))))}}]),t}(E.PureComponent),p=y))||p),T=C;t.default=T}}]);